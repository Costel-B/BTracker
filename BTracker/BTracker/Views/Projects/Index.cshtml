@model IEnumerable<BTracker.Models.Project>

@{
    ViewData["Title"] = "Index";
}

<div class="container">
    <table class="table table-striped m-t-25">
        @foreach (var project in Model)
        {
            <tbody>
                <tr class="row wrap-login100" style="padding: 0 20px 0 20px; width: auto; background-color: white; overflow: visible; margin-bottom: 20px;">
                    <td class="col-4 title" style="margin: auto 0 auto 0; border-top: 0px;"><h2>@Html.DisplayFor(modelProject => project.ProjectName)</h2></td>
                    @if (project.UserId == ViewBag.currentUserId)
                    {
                        <td class="col-4" style="margin: auto 0 auto 0; text-align: center; border-top: 0px;">
                            Owned by: Me
                        </td>
                    }
                    else
                    {
                        <td class="col-4" style="margin: auto 0 auto 0; text-align: center; border-top: 0px;">Owned by: @Html.DisplayFor(modelProject => project.User.Email)</td>
                    }
                <td class="col-4" style="display: flex; flex-direction:row; justify-content: flex-end; border-top: 0px;">
                    <a id="indexProjectLink" asp-action="Details" asp-route-id="@project.ProjectId">Details</a>
                    <a id="indexProjectLink" asp-action="List" asp-route-id="@project.ProjectId">List</a>
                    <div class="dropdown" id="indexProjectButton">
                        <button class="" type="button" style="font-size: 14px; color: #fff;" id="dropdownMenuButton" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false">
                            More
                        </button>
                        <div class="dropdown-menu dropdown-menu-right" aria-labelledby="dropdownMenuButton">
                            <a class="dropdown-item" asp-action="Edit" asp-route-id="@project.ProjectId">Change Name</a>
                            <a class="dropdown-item" asp-action="Delete" asp-route-id="@project.ProjectId">Delete Project</a>
                        </div>
                    </div>
                </td>
                </tr>
            </tbody>
        }
    </table>

    <div class="dis-flex justify-content-center">
        <a class="btn btn-secondary" style="background-color: #150940; border-radius: 10px;" asp-action="Create">Create New Project</a>
    </div>

</div>